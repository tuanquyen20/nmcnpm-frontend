{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from '@/store'; // Nếu store nằm ở thư mục gốc của dự án\n\nVue.use(VueRouter);\nvar routes = [{\n  path: '/',\n  redirect: '/home'\n}, {\n  path: '/home',\n  name: 'home',\n  // meta: {\n  //   public: true\n  // },\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/Home.vue');\n  }\n}, {\n  path: '/log-in',\n  name: 'log-in',\n  // meta: {\n  //   public: true\n  // },\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/Login.vue');\n  }\n}, {\n  path: '/admin-dashboard',\n  name: 'admin-dashboard',\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/AdminDashboard.vue');\n  },\n  meta: {\n    requiresAdmin: true\n  },\n  children: [{\n    path: '/rooms',\n    name: 'rooms',\n    meta: {\n      requiresAdmin: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/Rooms.vue');\n    }\n  }, {\n    path: '/room-types',\n    name: 'room-types',\n    meta: {\n      requiresAdmin: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/RoomTypes.vue');\n    }\n  }, {\n    path: '/orders',\n    name: 'orders',\n    meta: {\n      requiresAdmin: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/Orders.vue');\n    }\n  }, {\n    path: '/staffs',\n    name: 'staffs',\n    meta: {\n      requiresAdmin: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/Staffs.vue');\n    }\n  }, {\n    path: '/posts',\n    name: 'posts',\n    meta: {\n      requiresAdmin: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/Posts.vue');\n    }\n  }, {\n    path: '/users',\n    name: 'users',\n    meta: {\n      requiresAdmin: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/Users.vue');\n    }\n  }, {\n    path: '/my-posts',\n    name: 'my-posts',\n    meta: {\n      requiresAdmin: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/MyPosts.vue');\n    }\n  }]\n}, {\n  path: '/posts/:id',\n  name: 'post-page',\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/PostPage.vue');\n  }\n}, {\n  path: '/customer-dashboard',\n  name: 'customer-dashboard',\n  meta: {\n    requiresCustomer: true\n  },\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/CustomerDashboard.vue');\n  },\n  children: [{\n    path: '/my-posts-customer',\n    name: 'my-posts-customer',\n    meta: {\n      requiresCustomer: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/MyPostsCustomer.vue');\n    }\n  }]\n}, {\n  path: '/error-page',\n  name: 'error-page',\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/ErrorPage.vue');\n  }\n}];\nvar router = new VueRouter({\n  routes: routes\n});\nrouter.beforeEach(function (to, from, next) {\n  if (to.meta.requiresAdmin) {\n    if (!store.state.isLogged) {\n      next('/log-in');\n    } else {\n      if (store.state.isAdmin) {\n        next();\n      }\n      // else {\n      //   next('/error-page');\n      // }\n    }\n  } else {\n    if (to.meta.requiresCustomer) {\n      if (!store.state.isLogged) {\n        next('/log-in');\n      } else {\n        if (!store.state.isAdmin) {\n          next();\n        }\n        // else {\n        //   next('/error-page');\n        // }\n      }\n    } else {\n      // if(to.meta.public) {\n      //   next();\n      // } \n      // else {\n      //   next('/error-page');\n      // }\n    }\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","use","routes","path","redirect","name","component","meta","requiresAdmin","children","requiresCustomer","router","beforeEach","to","from","next","state","isLogged","isAdmin"],"sources":["/Users/tuanquyen/Desktop/HUST/NMCNPM/nmcnpm-frontend/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport store from '@/store'; // Nếu store nằm ở thư mục gốc của dự án\n\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/home',\n  },\n  {\n    path: '/home',\n    name: 'home',\n    // meta: {\n    //   public: true\n    // },\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/Home.vue')\n  },\n  {\n    path: '/log-in',\n    name: 'log-in',\n    // meta: {\n    //   public: true\n    // },\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/Login.vue')\n  },\n  {\n    path: '/admin-dashboard',\n    name: 'admin-dashboard',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/AdminDashboard.vue'),\n    meta: {\n      requiresAdmin: true,\n    },\n    children: [\n      {\n        path: '/rooms',\n        name: 'rooms',\n        meta: {\n          requiresAdmin: true,\n\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/Rooms.vue')\n      },\n      {\n        path: '/room-types',\n        name: 'room-types',\n        meta: {\n          requiresAdmin: true,\n\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/RoomTypes.vue')\n      },\n      {\n        path: '/orders',\n        name: 'orders',\n        meta: {\n          requiresAdmin: true,\n\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/Orders.vue')\n      },\n      {\n        path: '/staffs',\n        name: 'staffs',\n        meta: {\n          requiresAdmin: true,\n\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/Staffs.vue')\n      },\n      {\n        path: '/posts',\n        name: 'posts',\n        meta: {\n          requiresAdmin: true,\n\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/Posts.vue')\n      },\n\n      {\n        path: '/users',\n        name: 'users',\n        meta: {\n          requiresAdmin: true,\n\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/Users.vue')\n      },\n\n      {\n        path: '/my-posts',\n        name: 'my-posts',\n        meta: {\n          requiresAdmin: true,\n\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/MyPosts.vue')\n      },\n    ]\n  },\n  {\n    path: '/posts/:id',\n    name: 'post-page',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/PostPage.vue')\n  },\n\n  {\n    path: '/customer-dashboard',\n    name: 'customer-dashboard',\n    meta: {\n      requiresCustomer: true,\n    },\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/CustomerDashboard.vue'),\n    children: [\n      {\n        path: '/my-posts-customer',\n        name: 'my-posts-customer',\n        meta: {\n          requiresCustomer: true,\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/MyPostsCustomer.vue')\n      },\n    ]\n  },\n  {\n    path: '/error-page',\n    name: 'error-page',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/ErrorPage.vue')\n  }\n]\n\nconst router = new VueRouter({\n  routes\n})\n\nrouter.beforeEach((to, from, next) => {\n  if (to.meta.requiresAdmin) {\n    if (!store.state.isLogged) {\n      next('/log-in');\n    } else {\n      if(store.state.isAdmin) {\n        next();\n      } \n      // else {\n      //   next('/error-page');\n      // }\n    }\n  } else {\n    if (to.meta.requiresCustomer) {\n      if (!store.state.isLogged) {\n        next('/log-in');\n      } else {\n        if(!store.state.isAdmin) {\n          next();\n        } \n        // else {\n        //   next('/error-page');\n        // }\n      }\n    } else {\n      // if(to.meta.public) {\n      //   next();\n      // } \n      // else {\n      //   next('/error-page');\n      // }\n    }\n  }\n});\n\nexport default router\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}