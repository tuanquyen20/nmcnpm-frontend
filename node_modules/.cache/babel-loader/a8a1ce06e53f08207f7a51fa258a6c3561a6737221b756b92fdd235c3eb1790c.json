{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from './store';\nVue.use(VueRouter);\nvar routes = [{\n  path: '/',\n  redirect: '/home'\n}, {\n  path: '/home',\n  name: 'home',\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/Home.vue');\n  }\n}, {\n  path: '/log-in',\n  name: 'log-in',\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/Login.vue');\n  }\n}, {\n  path: '/admin-dashboard',\n  name: 'admin-dashboard',\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/AdminDashboard.vue');\n  },\n  meta: {\n    requiresAuth: true\n  },\n  children: [{\n    path: '/rooms',\n    name: 'rooms',\n    meta: {\n      requiresAuth: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/Rooms.vue');\n    }\n  }, {\n    path: '/room-types',\n    name: 'room-types',\n    meta: {\n      requiresAuth: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/RoomTypes.vue');\n    }\n  }, {\n    path: '/orders',\n    name: 'orders',\n    meta: {\n      requiresAuth: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/Orders.vue');\n    }\n  }, {\n    path: '/staffs',\n    name: 'staffs',\n    meta: {\n      requiresAuth: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/Staffs.vue');\n    }\n  }, {\n    path: '/posts',\n    name: 'posts',\n    meta: {\n      requiresAuth: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/Posts.vue');\n    }\n  }, {\n    path: '/users',\n    name: 'users',\n    meta: {\n      requiresAuth: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/Users.vue');\n    }\n  }, {\n    path: '/my-posts',\n    name: 'my-posts',\n    meta: {\n      requiresAuth: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/MyPosts.vue');\n    }\n  }]\n}, {\n  path: '/posts/:id',\n  name: 'post-page',\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/PostPage.vue');\n  }\n}, {\n  path: '/customer-dashboard',\n  name: 'customer-dashboard',\n  meta: {\n    requiresAuth: true\n  },\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/CustomerDashboard.vue');\n  },\n  children: [{\n    path: '/my-posts-customer',\n    name: 'my-posts-customer',\n    meta: {\n      requiresAuth: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/MyPostsCustomer.vue');\n    }\n  }]\n}];\nvar router = new VueRouter({\n  routes: routes\n});\nrouter.beforeEach(function (to, from, next) {\n  if (to.meta.requiresAuth) {\n    // Kiểm tra trạng thái đăng nhập từ store\n    if (!store.state.isLogged) {\n      // Nếu người dùng chưa đăng nhập, điều hướng đến trang đăng nhập hoặc trang khác\n      next('/home');\n    } else {\n      // Nếu đã đăng nhập, cho phép tiếp tục điều hướng\n      next();\n    }\n  } else {\n    // Cho phép điều hướng mà không cần kiểm tra đăng nhập\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","use","routes","path","redirect","name","component","meta","requiresAuth","children","router","beforeEach","to","from","next","state","isLogged"],"sources":["/Users/tuanquyen/Desktop/HUST/NMCNPM/nmcnpm-frontend/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport store from './store'; \n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/home',\n  },\n  {\n    path: '/home',\n    name: 'home',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/Home.vue')\n  },\n  {\n    path: '/log-in',\n    name: 'log-in',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/Login.vue')\n  },\n  {\n    path: '/admin-dashboard',\n    name: 'admin-dashboard',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/AdminDashboard.vue'),\n    meta: {\n      requiresAuth: true,\n    },\n    children: [\n      {\n        path: '/rooms',\n        name: 'rooms',\n        meta: {\n          requiresAuth: true,\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/Rooms.vue')\n      },\n      {\n        path: '/room-types',\n        name: 'room-types',\n        meta: {\n          requiresAuth: true,\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/RoomTypes.vue')\n      },\n      {\n        path: '/orders',\n        name: 'orders',\n        meta: {\n          requiresAuth: true,\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/Orders.vue')\n      },\n      {\n        path: '/staffs',\n        name: 'staffs',\n        meta: {\n          requiresAuth: true,\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/Staffs.vue')\n      },\n      {\n        path: '/posts',\n        name: 'posts',\n        meta: {\n          requiresAuth: true,\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/Posts.vue')\n      },\n\n      {\n        path: '/users',\n        name: 'users',\n        meta: {\n          requiresAuth: true,\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/Users.vue')\n      },\n\n      {\n        path: '/my-posts',\n        name: 'my-posts',\n        meta: {\n          requiresAuth: true,\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/MyPosts.vue')\n      },\n    ]\n  },\n  {\n    path: '/posts/:id',\n    name: 'post-page',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/PostPage.vue')\n  },\n\n  {\n    path: '/customer-dashboard',\n    name: 'customer-dashboard',\n    meta: {\n      requiresAuth: true,\n    },\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/CustomerDashboard.vue'),\n    children: [\n      {\n        path: '/my-posts-customer',\n        name: 'my-posts-customer',\n        meta: {\n          requiresAuth: true,\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/MyPostsCustomer.vue')\n      },\n    ]\n  },\n]\n\nconst router = new VueRouter({\n  routes\n})\n\nrouter.beforeEach((to, from, next) => {\n  if (to.meta.requiresAuth) {\n    // Kiểm tra trạng thái đăng nhập từ store\n    if (!store.state.isLogged) {\n      // Nếu người dùng chưa đăng nhập, điều hướng đến trang đăng nhập hoặc trang khác\n      next('/home');\n    } else {\n      // Nếu đã đăng nhập, cho phép tiếp tục điều hướng\n      next();\n    }\n  } else {\n    // Cho phép điều hướng mà không cần kiểm tra đăng nhập\n    next();\n  }\n});\n\n\nexport default router\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}