{"ast":null,"code":"import _defineProperty from \"/Users/tuanquyen/Desktop/HUST/NMCNPM/nmcnpm-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/Users/tuanquyen/Desktop/HUST/NMCNPM/nmcnpm-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.string.ends-with.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nexport default Vue.extend({\n  name: 'mouse',\n  methods: {\n    getDefaultMouseEventHandlers: function getDefaultMouseEventHandlers(suffix, getData) {\n      var eventFirst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var listeners = Object.keys(this.$listeners).filter(function (key) {\n        return key.endsWith(suffix);\n      }).reduce(function (acc, key) {\n        acc[key] = {\n          event: key.slice(0, -suffix.length)\n        };\n        return acc;\n      }, {});\n      return this.getMouseEventHandlers(_objectSpread(_objectSpread({}, listeners), {}, _defineProperty({}, 'contextmenu' + suffix, {\n        event: 'contextmenu',\n        prevent: true,\n        result: false\n      })), getData, eventFirst);\n    },\n    getMouseEventHandlers: function getMouseEventHandlers(events, getData) {\n      var _this = this;\n      var eventFirst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var on = {};\n      var _loop = function _loop(event) {\n        var eventOptions = events[event];\n        if (!_this.$listeners[event]) return 1; // continue\n        // TODO somehow pull in modifiers\n\n        var prefix = eventOptions.passive ? '&' : (eventOptions.once ? '~' : '') + (eventOptions.capture ? '!' : '');\n        var key = prefix + eventOptions.event;\n        var handler = function handler(e) {\n          var _a, _b;\n          var mouseEvent = e;\n          if (eventOptions.button === undefined || mouseEvent.buttons > 0 && mouseEvent.button === eventOptions.button) {\n            if (eventOptions.prevent) {\n              e.preventDefault();\n            }\n            if (eventOptions.stop) {\n              e.stopPropagation();\n            } // Due to TouchEvent target always returns the element that is first placed\n            // Even if touch point has since moved outside the interactive area of that element\n            // Ref: https://developer.mozilla.org/en-US/docs/Web/API/Touch/target\n            // This block of code aims to make sure touchEvent is always dispatched from the element that is being pointed at\n\n            if (e && 'touches' in e) {\n              var classSeparator = ' ';\n              var eventTargetClasses = (_a = e.currentTarget) === null || _a === void 0 ? void 0 : _a.className.split(classSeparator);\n              var currentTargets = document.elementsFromPoint(e.changedTouches[0].clientX, e.changedTouches[0].clientY); // Get \"the same kind\" current hovering target by checking\n              // If element has the same class of initial touch start element (which has touch event listener registered)\n\n              var currentTarget = currentTargets.find(function (t) {\n                return t.className.split(classSeparator).some(function (c) {\n                  return eventTargetClasses.includes(c);\n                });\n              });\n              if (currentTarget && !((_b = e.target) === null || _b === void 0 ? void 0 : _b.isSameNode(currentTarget))) {\n                currentTarget.dispatchEvent(new TouchEvent(e.type, {\n                  changedTouches: e.changedTouches,\n                  targetTouches: e.targetTouches,\n                  touches: e.touches\n                }));\n                return;\n              }\n            } // TODO: VCalendar emits the calendar event as the first argument,\n            // but it really should be the native event instead so modifiers can be used\n\n            if (eventFirst) {\n              _this.$emit(event, e, getData(e));\n            } else {\n              _this.$emit(event, getData(e), e);\n            }\n          }\n          return eventOptions.result;\n        };\n        if (key in on) {\n          /* istanbul ignore next */\n          if (Array.isArray(on[key])) {\n            on[key].push(handler);\n          } else {\n            on[key] = [on[key], handler];\n          }\n        } else {\n          on[key] = handler;\n        }\n      };\n      for (var event in events) {\n        if (_loop(event)) continue;\n      }\n      return on;\n    }\n  }\n});","map":{"version":3,"names":["Vue","extend","name","methods","getDefaultMouseEventHandlers","suffix","getData","eventFirst","arguments","length","undefined","listeners","Object","keys","$listeners","filter","key","endsWith","reduce","acc","event","slice","getMouseEventHandlers","_objectSpread","_defineProperty","prevent","result","events","_this","on","_loop","eventOptions","prefix","passive","once","capture","handler","e","mouseEvent","button","buttons","preventDefault","stop","stopPropagation","classSeparator","eventTargetClasses","_a","currentTarget","className","split","currentTargets","document","elementsFromPoint","changedTouches","clientX","clientY","find","t","some","c","includes","_b","target","isSameNode","dispatchEvent","TouchEvent","type","targetTouches","touches","$emit","Array","isArray","push"],"sources":["../../../src/mixins/mouse/index.ts"],"sourcesContent":["import Vue from 'vue'\n\nexport type MouseHandler = (e: MouseEvent | TouchEvent) => any\n\nexport type MouseEvents = {\n  [event: string]: {\n    event: string\n    passive?: boolean\n    capture?: boolean\n    once?: boolean\n    stop?: boolean\n    prevent?: boolean\n    button?: number\n    result?: any\n  }\n}\n\nexport type MouseEventsMap = {\n  [event: string]: MouseHandler | MouseHandler[]\n}\n\nexport default Vue.extend({\n  name: 'mouse',\n\n  methods: {\n    getDefaultMouseEventHandlers (suffix: string, getData: MouseHandler, eventFirst = false): MouseEventsMap {\n      const listeners = Object.keys(this.$listeners)\n        .filter(key => key.endsWith(suffix))\n        .reduce((acc, key) => {\n          acc[key] = { event: key.slice(0, -suffix.length) }\n          return acc\n        }, {} as MouseEvents)\n\n      return this.getMouseEventHandlers({\n        ...listeners,\n        ['contextmenu' + suffix]: { event: 'contextmenu', prevent: true, result: false },\n      }, getData, eventFirst)\n    },\n    getMouseEventHandlers (events: MouseEvents, getData: MouseHandler, eventFirst = false): MouseEventsMap {\n      const on: MouseEventsMap = {}\n\n      for (const event in events) {\n        const eventOptions = events[event]\n\n        if (!this.$listeners[event]) continue\n\n        // TODO somehow pull in modifiers\n\n        const prefix = eventOptions.passive ? '&' : ((eventOptions.once ? '~' : '') + (eventOptions.capture ? '!' : ''))\n        const key = prefix + eventOptions.event\n\n        const handler: MouseHandler = e => {\n          const mouseEvent: MouseEvent = e as MouseEvent\n          if (eventOptions.button === undefined || (mouseEvent.buttons > 0 && mouseEvent.button === eventOptions.button)) {\n            if (eventOptions.prevent) {\n              e.preventDefault()\n            }\n            if (eventOptions.stop) {\n              e.stopPropagation()\n            }\n\n            // Due to TouchEvent target always returns the element that is first placed\n            // Even if touch point has since moved outside the interactive area of that element\n            // Ref: https://developer.mozilla.org/en-US/docs/Web/API/Touch/target\n            // This block of code aims to make sure touchEvent is always dispatched from the element that is being pointed at\n            if (e && 'touches' in e) {\n              const classSeparator = ' '\n\n              const eventTargetClasses = (e.currentTarget as HTMLElement)?.className.split(classSeparator)\n              const currentTargets = document.elementsFromPoint(e.changedTouches[0].clientX, e.changedTouches[0].clientY)\n\n              // Get \"the same kind\" current hovering target by checking\n              // If element has the same class of initial touch start element (which has touch event listener registered)\n              const currentTarget = currentTargets.find(t => t.className.split(classSeparator).some(c => eventTargetClasses.includes(c)))\n\n              if (currentTarget &&\n                !(e.target as HTMLElement)?.isSameNode(currentTarget)\n              ) {\n                currentTarget.dispatchEvent(new TouchEvent(e.type, {\n                  changedTouches: e.changedTouches as unknown as Touch[],\n                  targetTouches: e.targetTouches as unknown as Touch[],\n                  touches: e.touches as unknown as Touch[],\n                }))\n                return\n              }\n            }\n\n            // TODO: VCalendar emits the calendar event as the first argument,\n            // but it really should be the native event instead so modifiers can be used\n            if (eventFirst) {\n              this.$emit(event, e, getData(e))\n            } else {\n              this.$emit(event, getData(e), e)\n            }\n          }\n\n          return eventOptions.result\n        }\n\n        if (key in on) {\n          /* istanbul ignore next */\n          if (Array.isArray(on[key])) {\n            (on[key] as MouseHandler[]).push(handler)\n          } else {\n            on[key] = [on[key], handler] as MouseHandler[]\n          }\n        } else {\n          on[key] = handler\n        }\n      }\n\n      return on\n    },\n  },\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}