{"ast":null,"code":"import \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nexport default {\n  data: function data() {\n    return {\n      editDialog: false,\n      createDialog: false,\n      loading: false,\n      page: 1,\n      pageCount: 0,\n      itemsPerPage: 10,\n      items: [],\n      headers: [{\n        text: \"ID\",\n        value: \"id\"\n      }, {\n        text: \"Title\",\n        value: \"title\"\n      }, {\n        text: \"Created At\",\n        value: \"created_at\"\n      }, {\n        text: \"Actions\",\n        value: \"actions\",\n        sortable: false\n      }],\n      updateForm: {\n        id: null,\n        name: \"\",\n        phone_number: 0\n      },\n      createForm: {\n        title: \"\",\n        content: [],\n        contentInput: {\n          paragraph: \"\",\n          image: \"\"\n        }\n      }\n    };\n  },\n  methods: {\n    loadItems: function loadItems() {\n      var _this = this;\n      this.loading = true;\n      setTimeout(function () {\n        _this.loading = false;\n        _this.$axios.get(\"/posts?page=\".concat(_this.page, \"&limit=\").concat(_this.itemsPerPage)).then(function (res) {\n          _this.items = res.data.items;\n          _this.pageCount = res.data.page_count;\n          console.log(_this.items);\n          console.log(res.data.items);\n        });\n      }, 1000);\n    },\n    deleteItem: function deleteItem(item) {\n      var _this2 = this;\n      this.$axios[\"delete\"](\"/staffs/\".concat(item.id)).then(function (res) {\n        _this2.loadItems();\n      });\n    },\n    showUpdateForm: function showUpdateForm(item) {\n      this.editDialog = true;\n      this.updateForm = {\n        id: item.id,\n        name: item.name,\n        phone_number: item.phone_number\n      };\n    },\n    updateItem: function updateItem() {\n      var _this3 = this;\n      this.$axios.put(\"/staffs/\".concat(this.updateForm.id), {\n        name: this.updateForm.name,\n        phone_number: this.updateForm.phone_number\n      }).then(function (res) {\n        _this3.editDialog = false;\n        _this3.loadItems();\n      });\n    },\n    createItem: function createItem() {\n      var _this4 = this;\n      this.$axios.post(\"/staffs\", {\n        name: this.createForm.name,\n        phone_number: this.createForm.phone_number\n      }).then(function (res) {\n        _this4.createDialog = false;\n        _this4.loadItems();\n      });\n    },\n    addContent: function addContent(paragraph, image) {\n      this.createForm.content.push({\n        paragraph: paragraph,\n        image: image\n      });\n      this.createForm.contentInput = {\n        paragraph: \"\",\n        image: \"\"\n      };\n    },\n    deleteContent: function deleteContent(item) {\n      this.createForm.content = this.createForm.content.filter(function (e) {\n        return e != item;\n      });\n    }\n  },\n  created: function created() {\n    this.loadItems();\n  }\n};","map":{"version":3,"names":["data","editDialog","createDialog","loading","page","pageCount","itemsPerPage","items","headers","text","value","sortable","updateForm","id","name","phone_number","createForm","title","content","contentInput","paragraph","image","methods","loadItems","_this","setTimeout","$axios","get","concat","then","res","page_count","console","log","deleteItem","item","_this2","showUpdateForm","updateItem","_this3","put","createItem","_this4","post","addContent","push","deleteContent","filter","e","created"],"sources":["src/components/Posts.vue"],"sourcesContent":["<template>\n  <v-container fluid>\n    <div>\n      <v-dialog v-model=\"createDialog\" width=\"1000\">\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            dark\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            small\n            color=\"#252525\"\n            class=\"mb-4\"\n          >\n            <v-icon dark> mdi-plus </v-icon>\n            Create\n          </v-btn>\n        </template>\n        <v-card>\n          <v-card-title class=\"text-h5 grey lighten-2\">\n            Create Posts\n          </v-card-title>\n\n          <v-card-actions>\n            <v-row>\n                <v-col cols=\"12\">\n                    <v-text-field v-model=\"createForm.title\"\n                    label=\"Title\"\n                    ></v-text-field>\n                </v-col>\n\n                <v-col cols=\"12\">\n                    <v-row>\n                  <v-col cols=\"8\">\n                    <v-textarea\n                      name=\"input-7-1\"\n                      label=\"Paragraph\"\n                      v-model=\"createForm.contentInput.paragraph\"\n                      filled\n                    ></v-textarea>\n                  </v-col>\n\n                  <v-col cols=\"3\">\n                    <v-textarea\n                      name=\"input-7-1\"\n                      rows=\"2\"\n                      label=\"Image link\"\n                      v-model=\"createForm.contentInput.image\"\n                      filled\n                    ></v-textarea>\n                  </v-col>\n\n                  <v-col cols=\"1\">\n                    <v-btn class=\"mx-2\" small fab  dark color=\"indigo\" @click=\"addContent(createForm.contentInput.paragraph, createForm.contentInput.image)\">\n                      <v-icon dark> mdi-plus </v-icon>\n                    </v-btn>\n                  </v-col>\n                </v-row>\n\n                </v-col>\n\n              <v-col\n                cols=\"12\"\n                v-for=\"(item,index) in createForm.content\"\n                :key=\"index\"\n              >\n                <v-row>\n                  <v-col cols=\"8\">\n                    <v-textarea\n                      name=\"input-7-1\"\n                      label=\"Paragraph\"\n                      v-model=\"item.paragraph\"\n                      filled\n                    ></v-textarea>\n                  </v-col>\n\n                  <v-col cols=\"3\">\n                    <v-textarea\n                      name=\"input-7-1\"\n                      rows=\"2\"\n                      label=\"Image link\"\n                      v-model=\"item.image\"\n                      filled\n                    ></v-textarea>\n                  </v-col>\n\n                  <v-col cols=\"1\">\n                    <v-btn class=\"mx-2\" small fab  dark color=\"red\">\n                      <v-icon dark @click=\"deleteContent(item)\"> mdi-minus </v-icon>\n                    </v-btn>\n                  </v-col>\n                </v-row>\n              </v-col>\n            </v-row>\n          </v-card-actions>\n\n          <v-divider></v-divider>\n\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"#252525\" class=\"white--text\" @click=\"createItem\">\n              Create\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"items\"\n        :page.sync=\"page\"\n        :items-per-page=\"itemsPerPage\"\n        hide-default-footer\n        class=\"elevation-1\"\n        :loading=\"loading\"\n      >\n<template v-slot:[`item.title`]=\"{ item }\">\n          \n\n          <strong>{{ item.title }}</strong>\n        </template>\n\n        <template v-slot:[`item.actions`]=\"{ item }\">\n          <v-icon small class=\"mr-2\" @click=\"showUpdateForm(item)\">\n            mdi-pencil\n          </v-icon>\n\n          <v-icon small @click=\"deleteItem(item)\"> mdi-delete </v-icon>\n        </template>\n      </v-data-table>\n\n      <v-pagination\n        v-model=\"page\"\n        :length=\"pageCount\"\n        @next=\"loadItems\"\n        @previous=\"loadItems\"\n        @input=\"loadItems\"\n      ></v-pagination>\n    </div>\n\n    <v-dialog v-model=\"editDialog\" width=\"900\">\n      <v-card>\n        <v-card-title class=\"text-h5 grey lighten-2\">\n          Update Staff\n        </v-card-title>\n\n        <v-card-actions>\n          <v-row>\n            <v-col cols=\"6\">\n              <v-text-field\n                v-model=\"updateForm.name\"\n                label=\"Name\"\n              ></v-text-field>\n            </v-col>\n\n            <v-col cols=\"6\">\n              <v-text-field\n                v-model=\"updateForm.phone_number\"\n                label=\"Phone number\"\n              ></v-text-field>\n            </v-col>\n          </v-row>\n        </v-card-actions>\n\n        <v-divider></v-divider>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"#252525\" class=\"white--text\" @click=\"updateItem\">\n            Update\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\n\nexport default {\n  data() {\n    return {\n      editDialog: false,\n      createDialog: false,\n      loading: false,\n      page: 1,\n      pageCount: 0,\n      itemsPerPage: 10,\n      items: [],\n      headers: [\n        { text: \"ID\", value: \"id\" },\n        { text: \"Title\", value: \"title\" },\n        { text: \"Created At\", value: \"created_at\" },\n        { text: \"Actions\", value: \"actions\", sortable: false },\n      ],\n\n      updateForm: {\n        id: null,\n        name: \"\",\n        phone_number: 0,\n      },\n\n      createForm: {\n        title: \"\",\n        content: [\n        ],\n\n        contentInput: {\n            paragraph: \"\",\n            image: \"\",\n        },\n      },\n    };\n  },\n\n  methods: {\n    loadItems() {\n      this.loading = true;\n      setTimeout(() => {\n        this.loading = false;\n        this.$axios\n          .get(`/posts?page=${this.page}&limit=${this.itemsPerPage}`)\n          .then((res) => {\n            this.items = res.data.items;\n            this.pageCount = res.data.page_count;\n            console.log(this.items);\n            console.log(res.data.items);\n          });\n      }, 1000);\n    },\n\n    deleteItem(item) {\n      this.$axios.delete(`/staffs/${item.id}`).then((res) => {\n        this.loadItems();\n      });\n    },\n\n    showUpdateForm(item) {\n      this.editDialog = true;\n      this.updateForm = {\n        id: item.id,\n        name: item.name,\n        phone_number: item.phone_number,\n      };\n    },\n\n    updateItem() {\n      this.$axios\n        .put(`/staffs/${this.updateForm.id}`, {\n          name: this.updateForm.name,\n          phone_number: this.updateForm.phone_number,\n        })\n\n        .then((res) => {\n          this.editDialog = false;\n          this.loadItems();\n        });\n    },\n\n    createItem() {\n      this.$axios\n        .post(`/staffs`, {\n          name: this.createForm.name,\n          phone_number: this.createForm.phone_number,\n        })\n\n        .then((res) => {\n          this.createDialog = false;\n          this.loadItems();\n        });\n    },\n\n    addContent(paragraph, image) {\n        this.createForm.content.push(\n            {\n                paragraph: paragraph,\n                image: image\n            }\n        )\n\n        this.createForm.contentInput = {\n            paragraph: \"\",\n            image: \"\",\n        }\n\n    },\n\n    deleteContent(item) {\n        this.createForm.content = this.createForm.content.filter(e => e != item)\n    }\n  },\n\n  created() {\n    this.loadItems();\n  },\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}