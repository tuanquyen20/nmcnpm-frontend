{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from '@/store'; // Nếu store nằm ở thư mục gốc của dự án\n\nVue.use(VueRouter);\nvar routes = [{\n  path: '/',\n  redirect: '/home'\n}, {\n  path: '/home',\n  name: 'home',\n  meta: {\n    publicX: true\n  },\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/Home.vue');\n  }\n}, {\n  path: '/log-in',\n  name: 'log-in',\n  meta: {\n    publicX: true\n  },\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/Login.vue');\n  }\n}, {\n  path: '/admin-dashboard',\n  name: 'admin-dashboard',\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/AdminDashboard.vue');\n  },\n  meta: {\n    requiresAdmin: true\n  },\n  children: [{\n    path: '/rooms',\n    name: 'rooms',\n    meta: {\n      requiresAdmin: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/Rooms.vue');\n    }\n  }, {\n    path: '/room-types',\n    name: 'room-types',\n    meta: {\n      requiresAdmin: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/RoomTypes.vue');\n    }\n  }, {\n    path: '/orders',\n    name: 'orders',\n    meta: {\n      requiresAdmin: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/Orders.vue');\n    }\n  }, {\n    path: '/staffs',\n    name: 'staffs',\n    meta: {\n      requiresAdmin: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/Staffs.vue');\n    }\n  }, {\n    path: '/posts',\n    name: 'posts',\n    meta: {\n      requiresAdmin: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/Posts.vue');\n    }\n  }, {\n    path: '/users',\n    name: 'users',\n    meta: {\n      requiresAdmin: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/Users.vue');\n    }\n  }, {\n    path: '/my-posts',\n    name: 'my-posts',\n    meta: {\n      requiresAdmin: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/MyPosts.vue');\n    }\n  }]\n}, {\n  path: '/posts/:id',\n  name: 'post-page',\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/PostPage.vue');\n  }\n}, {\n  path: '/customer-dashboard',\n  name: 'customer-dashboard',\n  meta: {\n    requiresCustomer: true\n  },\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/CustomerDashboard.vue');\n  },\n  children: [{\n    path: '/my-posts-customer',\n    name: 'my-posts-customer',\n    meta: {\n      requiresCustomer: true\n    },\n    component: function component() {\n      return import( /* webpackChunkName: \"about\" */'../components/MyPostsCustomer.vue');\n    }\n  }]\n}, {\n  path: '/error',\n  name: 'error',\n  component: function component() {\n    return import( /* webpackChunkName: \"about\" */'../views/ErrorPage.vue');\n  }\n}];\nvar router = new VueRouter({\n  routes: routes\n});\nrouter.beforeEach(function (to, from, next) {\n  if (to.meta.requiresAdmin) {\n    if (!store.state.isLogged) {\n      next('/log-in');\n    } else {\n      if (store.state.isAdmin) {\n        next();\n      } else {\n        next('/error');\n      }\n    }\n  } else {\n    if (to.meta.requiresCustomer) {\n      if (!store.state.isLogged) {\n        next('/log-in');\n      } else {\n        if (!store.state.isAdmin) {\n          next();\n        } else {\n          next('/error');\n        }\n      }\n    } else {\n      if (to.meta.publicX) {\n        next();\n      } else {\n        next('/error');\n      }\n    }\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","use","routes","path","redirect","name","meta","publicX","component","requiresAdmin","children","requiresCustomer","router","beforeEach","to","from","next","state","isLogged","isAdmin"],"sources":["/Users/tuanquyen/Desktop/HUST/NMCNPM/nmcnpm-frontend/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport store from '@/store'; // Nếu store nằm ở thư mục gốc của dự án\n\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/home',\n  },\n  {\n    path: '/home',\n    name: 'home',\n    meta: {\n      publicX: true\n    },\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/Home.vue')\n  },\n  {\n    path: '/log-in',\n    name: 'log-in',\n    meta: {\n      publicX: true\n    },\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/Login.vue')\n  },\n  {\n    path: '/admin-dashboard',\n    name: 'admin-dashboard',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/AdminDashboard.vue'),\n    meta: {\n      requiresAdmin: true,\n    },\n    children: [\n      {\n        path: '/rooms',\n        name: 'rooms',\n        meta: {\n          requiresAdmin: true,\n\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/Rooms.vue')\n      },\n      {\n        path: '/room-types',\n        name: 'room-types',\n        meta: {\n          requiresAdmin: true,\n\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/RoomTypes.vue')\n      },\n      {\n        path: '/orders',\n        name: 'orders',\n        meta: {\n          requiresAdmin: true,\n\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/Orders.vue')\n      },\n      {\n        path: '/staffs',\n        name: 'staffs',\n        meta: {\n          requiresAdmin: true,\n\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/Staffs.vue')\n      },\n      {\n        path: '/posts',\n        name: 'posts',\n        meta: {\n          requiresAdmin: true,\n\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/Posts.vue')\n      },\n\n      {\n        path: '/users',\n        name: 'users',\n        meta: {\n          requiresAdmin: true,\n\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/Users.vue')\n      },\n\n      {\n        path: '/my-posts',\n        name: 'my-posts',\n        meta: {\n          requiresAdmin: true,\n\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/MyPosts.vue')\n      },\n    ]\n  },\n  {\n    path: '/posts/:id',\n    name: 'post-page',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/PostPage.vue')\n  },\n\n  {\n    path: '/customer-dashboard',\n    name: 'customer-dashboard',\n    meta: {\n      requiresCustomer: true,\n    },\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/CustomerDashboard.vue'),\n    children: [\n      {\n        path: '/my-posts-customer',\n        name: 'my-posts-customer',\n        meta: {\n          requiresCustomer: true,\n        },\n        component: () => import(/* webpackChunkName: \"about\" */ '../components/MyPostsCustomer.vue')\n      },\n    ]\n  },\n\n  {\n    path: '/error',\n    name: 'error',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/ErrorPage.vue')\n  },\n\n]\n\nconst router = new VueRouter({\n  routes\n})\n\nrouter.beforeEach((to, from, next) => {\n  if (to.meta.requiresAdmin) {\n    if (!store.state.isLogged) {\n      next('/log-in');\n    } else {\n      if(store.state.isAdmin) {\n        next();\n      } else {\n        next('/error');\n      }\n    }\n  } else {\n    if (to.meta.requiresCustomer) {\n      if (!store.state.isLogged) {\n        next('/log-in');\n      } else {\n        if(!store.state.isAdmin) {\n          next();\n        } else {\n          next('/error');\n        }\n      }\n    } else {\n      if(to.meta.publicX) {\n        next();\n      } else {\n        next('/error');\n      }\n    }\n  }\n});\n\nexport default router\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}