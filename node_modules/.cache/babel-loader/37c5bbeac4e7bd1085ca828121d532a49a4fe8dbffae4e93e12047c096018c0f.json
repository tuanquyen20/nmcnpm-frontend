{"ast":null,"code":"import _objectSpread from \"/Users/tuanquyen/Desktop/HUST/NMCNPM/nmcnpm-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.parse-float.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport \"core-js/modules/web.timers.js\";\n// Styles\nimport \"../../../src/components/VTextarea/VTextarea.sass\"; // Extensions\n\nimport VTextField from '../VTextField/VTextField'; // Utilities\n\nimport mixins from '../../util/mixins';\nvar baseMixins = mixins(VTextField);\n/* @vue/component */\n\nexport default baseMixins.extend({\n  name: 'v-textarea',\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      \"default\": 24,\n      validator: function validator(v) {\n        return !isNaN(parseFloat(v));\n      }\n    },\n    rows: {\n      type: [Number, String],\n      \"default\": 5,\n      validator: function validator(v) {\n        return !isNaN(parseInt(v, 10));\n      }\n    }\n  },\n  computed: {\n    classes: function classes() {\n      return _objectSpread({\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle\n      }, VTextField.options.computed.classes.call(this));\n    },\n    noResizeHandle: function noResizeHandle() {\n      return this.noResize || this.autoGrow;\n    }\n  },\n  watch: {\n    autoGrow: function autoGrow(val) {\n      var _this = this;\n      this.$nextTick(function () {\n        var _a;\n        val ? _this.calculateInputHeight() : (_a = _this.$refs.input) === null || _a === void 0 ? void 0 : _a.style.removeProperty('height');\n      });\n    },\n    lazyValue: function lazyValue() {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight);\n    },\n    rowHeight: function rowHeight() {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight);\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n    setTimeout(function () {\n      _this2.autoGrow && _this2.calculateInputHeight();\n    }, 0);\n  },\n  methods: {\n    calculateInputHeight: function calculateInputHeight() {\n      var input = this.$refs.input;\n      if (!input) return;\n      input.style.height = '0';\n      var height = input.scrollHeight;\n      var minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight); // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n\n      input.style.height = Math.max(minHeight, height) + 'px';\n    },\n    genInput: function genInput() {\n      var input = VTextField.options.methods.genInput.call(this);\n      input.tag = 'textarea';\n      delete input.data.attrs.type;\n      input.data.attrs.rows = this.rows;\n      return input;\n    },\n    onInput: function onInput(e) {\n      VTextField.options.methods.onInput.call(this, e);\n      this.autoGrow && this.calculateInputHeight();\n    },\n    onKeyDown: function onKeyDown(e) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation();\n      }\n      this.$emit('keydown', e);\n    }\n  }\n});","map":{"version":3,"names":["VTextField","mixins","baseMixins","extend","name","props","autoGrow","Boolean","noResize","rowHeight","type","Number","String","validator","v","isNaN","parseFloat","rows","parseInt","computed","classes","_objectSpread","noResizeHandle","options","call","watch","val","_this","$nextTick","calculateInputHeight","_a","$refs","input","style","removeProperty","lazyValue","mounted","_this2","setTimeout","methods","height","scrollHeight","minHeight","Math","max","genInput","tag","data","attrs","onInput","e","onKeyDown","isFocused","keyCode","stopPropagation","$emit"],"sources":["../../../src/components/VTextarea/VTextarea.ts"],"sourcesContent":["// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    autoGrow (val: boolean) {\n      this.$nextTick(() => {\n        val\n          ? this.calculateInputHeight()\n          : this.$refs.input?.style.removeProperty('height')\n      })\n    },\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}